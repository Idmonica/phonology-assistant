<?xml version="1.0" encoding="utf-8"?>
<FwQueries>
	<fwregkey>Software\SIL\FieldWorks\RootDataDir</fwregkey>
	<rootdatadirvalue>RootDataDir</rootdatadirvalue>
	<service>MSSQL$SILFW</service>
	<secondstowaitfordbenginestartup>25</secondstowaitfordbenginestartup>
	<connectionstring>
		server={0}; Database={1}; User ID={2}; Password={3}; Connect Timeout=10; Pooling=false;
	</connectionstring>
	<!-- {0} is replaced with the machine name. -->
	<server>{0}\SILFW</server>
	<mastertable>master</mastertable>
	<databases>exec sp_GetFWDBs</databases>
	<!-- The following query is obsolete since DB names are used as project names. -->
	<projectname>select TOP 1 txt from CmProject_Name</projectname>
	<lastmodifiedstamp>select top 1 Updstmp from CmObject where class$ in (5002, 5016) order by Updstmp desc</lastmodifiedstamp>
	<veracularwritingsystems>
		SELECT * FROM
		LanguageProject_VernacularWritingSystems lp
		INNER JOIN LgWritingSystem_Name lg
		ON lp.Dst = lg.Obj
	</veracularwritingsystems>
	<analysiswritingsystems>
		SELECT * FROM
		LanguageProject_AnalysisWritingSystems lp
		INNER JOIN LgWritingSystem_Name lg
		ON lp.Dst = lg.Obj
	</analysiswritingsystems>
	<!-- The text between $ symbols is replaced by writing system numbers corresponding to user user choices. -->
	<datafromlexemeform>
		SELECT
		le.DateCreated,
		le.DateModified,
		mffEtic.Txt As phonetic, mffEtic.Ws,
		mffEmic.Txt As phonemic, mffEmic.Ws,
		mffOrtho.Txt As ortho, mffOrtho.Ws,
		lsGloss1.Txt As gloss1,
		lsGloss2.Txt As gloss2,
		lsGloss3.Txt As gloss3,
		lp.Tone As tone,
		ls.Source As ref,
		cpaPOS.Txt As pos,
		leo.Guid$ As guid
		FROM LexEntry le
		LEFT OUTER JOIN LexEntry_LexemeForm lelf ON lelf.Src = le.Id
		LEFT OUTER JOIN LexEntry_Senses les ON les.Src = le.Id AND les.Ord = 1
		LEFT OUTER JOIN LexEntry_Pronunciations lep ON lep.Src = le.Id AND lep.Ord = 1
		LEFT OUTER JOIN LexPronunciation lp ON lp.Id = lep.Dst
		LEFT OUTER JOIN MoForm_Form mffEtic ON mffEtic.Obj = lelf.Dst And mffEtic.Ws = $phoneticWs$
		LEFT OUTER JOIN MoForm_Form mffEmic ON mffEmic.Obj = lelf.Dst And mffEmic.Ws = $phonemicWs$
		LEFT OUTER JOIN MoForm_Form mffOrtho ON mffOrtho.Obj = lelf.Dst And mffOrtho.Ws = $orthoWs$
		LEFT OUTER JOIN CmObject leo ON leo.ID = le.Id
		LEFT OUTER JOIN LexSense ls ON ls.Id = les.Dst
		LEFT OUTER JOIN LexSense_Gloss lsGloss1 ON lsGloss1.Obj = les.Dst AND lsGloss1.Ws = $gloss1Ws$
		LEFT OUTER JOIN LexSense_Gloss lsGloss2 ON lsGloss2.Obj = les.Dst AND lsGloss2.Ws = $gloss2Ws$
		LEFT OUTER JOIN LexSense_Gloss lsGloss3 ON lsGloss3.Obj = les.Dst AND lsGloss3.Ws = $gloss3Ws$
		LEFT OUTER JOIN LexEntry_MorphoSyntaxAnalyses lemsa ON lemsa.Src = le.Id
		LEFT OUTER JOIN MoStemMsa msmsa ON msmsa.Id = lemsa.Dst
		LEFT OUTER JOIN CmPossibility_Abbreviation cpaPOS ON cpaPOS.Obj = msmsa.PartOfSpeech AND cpaPOS.Ws = $posWs$
	</datafromlexemeform>
	<!-- The text between $ symbols is replaced by writing system numbers corresponding to user user choices. -->
	<datafrompronunciationfield>
		SELECT
		lpfEtic.Txt As phonetic, lpfEtic.Ws,
		mffEmic.Txt As phonemic, mffEmic.Ws,
		mffOrtho.Txt As ortho, mffOrtho.Ws,
		lp.Tone As tone,
		le.DateCreated,
		le.DateModified,
		ls.Source As ref,
		lsGloss1.Txt As gloss1,
		lsGloss2.Txt As gloss2,
		lsGloss3.Txt As gloss3,
		cpaPOS.Txt As pos,
		leo.Guid$ As guid
		FROM LexEntry le
		LEFT OUTER JOIN LexEntry_LexemeForm lelf ON lelf.Src = le.Id
		LEFT OUTER JOIN LexEntry_Senses les ON les.Src = le.Id AND les.Ord = 1
		LEFT OUTER JOIN LexEntry_Pronunciations lep ON lep.Src = le.Id AND lep.Ord = 1
		LEFT OUTER JOIN LexPronunciation lp ON lp.Id = lep.Dst
		INNER JOIN LexPronunciation_Form lpfEtic ON lpfEtic.Obj = lp.Id AND lpfEtic.Ws = $phoneticWs$
		LEFT OUTER JOIN MoForm_Form mffEmic ON mffEmic.Obj = lelf.Dst And mffEmic.Ws = $phonemicWs$
		LEFT OUTER JOIN MoForm_Form mffOrtho ON mffOrtho.Obj = lelf.Dst And mffOrtho.Ws = $orthoWs$
		LEFT OUTER JOIN CmObject leo ON leo.ID = le.Id
		LEFT OUTER JOIN LexSense ls ON ls.Id = les.Dst
		LEFT OUTER JOIN LexSense_Gloss lsGloss1 ON lsGloss1.Obj = les.Dst And lsGloss1.Ws = $gloss1Ws$
		LEFT OUTER JOIN LexSense_Gloss lsGloss2 ON lsGloss2.Obj = les.Dst AND lsGloss2.Ws = $gloss2Ws$
		LEFT OUTER JOIN LexSense_Gloss lsGloss3 ON lsGloss3.Obj = les.Dst AND lsGloss3.Ws = $gloss3Ws$
		LEFT OUTER JOIN LexEntry_MorphoSyntaxAnalyses lemsa ON lemsa.Src = le.Id
		LEFT OUTER JOIN MoStemMsa msmsa ON msmsa.Id = lemsa.Dst
		LEFT OUTER JOIN CmPossibility_Abbreviation cpaPOS ON cpaPOS.Obj = msmsa.PartOfSpeech AND cpaPOS.Ws = $posWs$
	</datafrompronunciationfield>
</FwQueries>